<div class="table-responsive">
    <table id="tabla-his" class="table table-bordered table-hover" style="font-size: 9px;">
        <thead>
          <tr style="text-align: center;">
            <ng-container *ngFor="let header of dataTable.headers; let i=index">
                <ng-container *ngIf="i==0; else dataCol" >
                    <th scope="col">
                      {{header}}
                    </th>
                </ng-container>
                <ng-template #dataCol>
                    <th scope="col" colspan="3">
                        {{header}}
                      </th>
                </ng-template> 
            </ng-container>
            
              
          </tr>
          <tr style="text-align: center;">
            <th scope="col" *ngFor="let subheader of dataTable.subheaders">
                {{subheader}}
            </th>
          </tr>
        </thead>
        <tbody>
            <ng-container *ngFor="let data of dataTable.data">
                <tr style="cursor: pointer;" (click)="selectedRowHospital(data)" [ngClass]="{'table-active': data.select}">
                    <ng-container *ngFor="let item of $any(data) | keyvalue: originalOrder; let i = index ">
                        <ng-container *ngIf="!dataTable?.indexDisable?.includes(i)">
                            <ng-container *ngIf="dataTable.rowBold==i; else data">
                                <th scope="row" style="text-align: start;">{{item.value}}</th>
                            </ng-container>
                            <ng-template #data>
                                <ng-container *ngIf="isPorcentaje(item.value); else numero">
                                    <td style="text-align: center;"
                                        [ngClass]="{'green': isColor(item.value) === 'green', 'yellow' : isColor(item.value) === 'yellow','red' : isColor(item.value) === 'red' }"
                                    >{{item.value}}</td>
                                </ng-container>
                                <ng-template #numero>
                                    <td style="text-align: center;">{{item.value}}</td>
                                </ng-template>
                            </ng-template>
                        </ng-container>
                    </ng-container>
                </tr>
            </ng-container>

        </tbody>
    </table>
</div>

<div class="leyenda-container mt-3">
    <nb-card>
        <nb-card-body class="leyenda-body">
            <span class="title-card">Leyenda:</span>
            <div class="leyenda-color">
                <div class="box-color" style="background-color: rgb(97, 241, 128);"></div>
                <span class="leyenda-text"><strong>Éxito:</strong> de 60% a más</span>
            </div>
            <div class="leyenda-color">
                <div class="box-color" style="background-color: rgb(241, 114, 97);"></div>
                <span class="leyenda-text"> <strong>Riesgo:</strong> De menos a 59.9%</span>
            </div>
        </nb-card-body>
    </nb-card>
</div>
